tigerProxy:
  port: 2433
  skipTrafficEndpointsSubscription: true
  trafficEndpoints:
    - http://localhost:${free.port.2}

servers:
  httpbin:
    hostname: httpbin
    source:
      - local:target/tiger-httpbin.jar
    type: externalJar
    externalJarOptions:
      healthcheck: http://localhost:${free.port.0}
      arguments:
        - -port=${free.port.0}
  httpbin2:
    hostname: httpbin2
    source:
      - local:target/httpbin2.jar
    type: externalJar
    externalJarOptions:
      healthcheckUrl: http://localhost:${free.port.4}/
      arguments:
        - -port=${free.port.4}

  remoteTigerProxy:
    type: tigerProxy
    tigerProxyConfiguration:
      serverPort: ${free.port.2}
      proxyCfg:
        activateRbelParsing: false
        rbelBufferSizeInMb: 0
        port: ${free.port.1}
        proxyRoutes:
          - from: http://httpbin
            to: http://localhost:${free.port.0}

lib:
  rbelPathDebugging: false
  activateWorkflowUi: false
