{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$defs": {
    "CfgServer": {
      "type": "object",
      "properties": {
        "active": {
          "type": "boolean"
        },
        "environment": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "exports": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "externalJarOptions": {
          "type": "object",
          "properties": {
            "activateLogs": {
              "type": "boolean"
            },
            "activateWorkflowLogs": {
              "type": "boolean"
            },
            "arguments": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "options": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "workingDir": {
              "type": "string"
            }
          }
        },
        "healthcheckReturnCode": {
          "type": "integer"
        },
        "healthcheckUrl": {
          "type": "string"
        },
        "helmChartOptions": {
          "type": "object",
          "properties": {
            "context": {
              "type": "string"
            },
            "debug": {
              "type": "boolean"
            },
            "exposedPorts": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "healthcheckPods": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "logPods": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "nameSpace": {
              "type": "string"
            },
            "podName": {
              "type": "string"
            },
            "values": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "workingDir": {
              "type": "string"
            }
          }
        },
        "logFile": {
          "type": "string"
        },
        "pkiKeys": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "pem": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "CERTIFICATE",
                  "KEY"
                ]
              }
            }
          }
        },
        "source": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "startupPollIntervalMs": {
          "type": "integer"
        },
        "startupTimeoutSec": {
          "type": "integer"
        },
        "templateName": {
          "type": "string"
        },
        "tigerProxyConfiguration": {
          "type": "object",
          "properties": {
            "activateForwardAllLogging": {
              "type": "boolean"
            },
            "activateRbelParsing": {
              "type": "boolean"
            },
            "activateRbelParsingFor": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "activateTlsTermination": {
              "type": "boolean"
            },
            "activateTrafficLogging": {
              "type": "boolean"
            },
            "adminPort": {
              "type": "integer"
            },
            "connectionTimeoutInSeconds": {
              "type": "integer"
            },
            "directReverseProxy": {
              "type": "object",
              "properties": {
                "hostname": {
                  "type": "string"
                },
                "ignoreConnectionErrors": {
                  "type": "boolean"
                },
                "port": {
                  "type": "integer"
                }
              }
            },
            "downloadInitialTrafficFromEndpoints": {
              "type": "boolean"
            },
            "failOnOfflineTrafficEndpoints": {
              "type": "boolean"
            },
            "fileSaveInfo": {
              "type": "object",
              "properties": {
                "clearFileOnBoot": {
                  "type": "boolean"
                },
                "filename": {
                  "type": "string"
                },
                "readFilter": {
                  "type": "string"
                },
                "sourceFile": {
                  "type": "string"
                },
                "writeToFile": {
                  "type": "boolean"
                }
              }
            },
            "forwardToProxy": {
              "type": "object",
              "properties": {
                "hostname": {
                  "type": "string"
                },
                "noProxyHosts": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "password": {
                  "type": "string"
                },
                "port": {
                  "type": "integer"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "HTTP",
                    "HTTPS"
                  ]
                },
                "username": {
                  "type": "string"
                }
              }
            },
            "isStandalone": {
              "type": "boolean"
            },
            "keyFolders": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "localResources": {
              "type": "boolean"
            },
            "maximumPartialMessageAgeInSeconds": {
              "type": "integer"
            },
            "maximumTrafficDownloadPageSize": {
              "type": "integer"
            },
            "modifications": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "condition": {
                    "type": "string"
                  },
                  "deleteAfterNExecutions": {
                    "type": "integer"
                  },
                  "name": {
                    "type": "string"
                  },
                  "regexFilter": {
                    "type": "string"
                  },
                  "replaceWith": {
                    "type": "string"
                  },
                  "targetElement": {
                    "type": "string"
                  }
                }
              }
            },
            "name": {
              "type": "string"
            },
            "notes": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "jexlCriterion": {
                    "type": "string"
                  },
                  "message": {
                    "type": "string"
                  }
                }
              }
            },
            "parsingShouldBlockCommunication": {
              "type": "boolean"
            },
            "password": {
              "type": "string"
            },
            "perMessageBufferSizeInMb": {
              "type": "integer"
            },
            "proxiedServer": {
              "type": "string"
            },
            "proxiedServerProtocol": {
              "type": "string"
            },
            "proxyLogLevel": {
              "type": "string"
            },
            "proxyPort": {
              "type": "integer"
            },
            "proxyRoutes": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "authentication": {
                    "type": "object",
                    "properties": {
                      "bearerToken": {
                        "type": "string"
                      },
                      "password": {
                        "type": "string"
                      },
                      "username": {
                        "type": "string"
                      }
                    }
                  },
                  "criterions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "disableRbelLogging": {
                    "type": "boolean"
                  },
                  "from": {
                    "type": "string"
                  },
                  "hosts": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "to": {
                    "type": [
                      "string",
                      "array"
                    ],
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "rbelBufferSizeInMb": {
              "type": "integer"
            },
            "rewriteHostHeader": {
              "type": "boolean"
            },
            "rewriteLocationHeader": {
              "type": "boolean"
            },
            "skipDisplayWhenMessageLargerThanKb": {
              "type": "integer"
            },
            "skipParsingWhenMessageLargerThanKb": {
              "type": "integer"
            },
            "skipTrafficEndpointsSubscription": {
              "type": "boolean"
            },
            "stompClientBufferSizeInMb": {
              "type": "integer"
            },
            "tls": {
              "type": "object",
              "properties": {
                "allowGenericFallbackIdentity": {
                  "type": "boolean"
                },
                "alternativeNames": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "clientSslSuites": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "clientSupportedGroups": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "domainName": {
                  "type": "string"
                },
                "forwardMutualTlsIdentity": {
                  "$ref": "#/$defs/TigerConfigurationPkiIdentity"
                },
                "masterSecretsFile": {
                  "type": "string"
                },
                "ocspSignerIdentity": {
                  "$ref": "#/$defs/TigerConfigurationPkiIdentity"
                },
                "serverIdentities": {
                  "type": "array",
                  "items": {
                    "$ref": "#/$defs/TigerConfigurationPkiIdentity"
                  }
                },
                "serverIdentity": {
                  "$ref": "#/$defs/TigerConfigurationPkiIdentity"
                },
                "serverRootCa": {
                  "$ref": "#/$defs/TigerConfigurationPkiIdentity"
                },
                "serverSslSuites": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "serverTlsProtocols": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            },
            "trafficDownloadPageSize": {
              "type": "integer"
            },
            "trafficEndpointConfiguration": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "stompTopic": {
                  "type": "string"
                },
                "wsEndpoint": {
                  "type": "string"
                }
              }
            },
            "trafficEndpointFilterString": {
              "type": "string"
            },
            "trafficEndpoints": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "username": {
              "type": "string"
            }
          }
        },
        "type": {
          "type": "string"
        },
        "urlMappings": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "version": {
          "type": "string"
        }
      }
    },
    "TigerConfigurationPkiIdentity": {
      "type": "object",
      "properties": {
        "certificate": {
          "$ref": "#/$defs/X509Certificate"
        },
        "certificateChain": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/X509Certificate"
          }
        },
        "fileLoadingInformation": {
          "type": "object",
          "properties": {
            "filenames": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "password": {
              "type": "string"
            },
            "storeType": {
              "type": "string",
              "enum": [
                "PKCS12",
                "JKS",
                "BKS",
                "PKCS8",
                "PKCS1"
              ]
            },
            "useCompactFormat": {
              "type": "boolean"
            }
          }
        },
        "keyId": {
          "type": [
            "string",
            "null"
          ]
        },
        "privateKey": {
          "type": "object"
        }
      }
    },
    "X509Certificate": {
      "type": "object",
      "properties": {
        "hash": {
          "type": "integer"
        },
        "type": {
          "type": "string"
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "localProxyActive": {
      "type": "boolean"
    },
    "servers": {
      "type": "object",
      "patternProperties": {
        "": {
          "$ref": "#/$defs/CfgServer"
        }
      }
    },
    "tigerProxy": {
      "type": [
        "null",
        "object"
      ],
      "properties": {
        "activateForwardAllLogging": {
          "type": "boolean"
        },
        "activateRbelParsing": {
          "type": "boolean"
        },
        "activateRbelParsingFor": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "activateTlsTermination": {
          "type": "boolean"
        },
        "activateTrafficLogging": {
          "type": "boolean"
        },
        "adminPort": {
          "type": "integer"
        },
        "connectionTimeoutInSeconds": {
          "type": "integer"
        },
        "directReverseProxy": {
          "type": "object",
          "properties": {
            "hostname": {
              "type": "string"
            },
            "ignoreConnectionErrors": {
              "type": "boolean"
            },
            "port": {
              "type": "integer"
            }
          }
        },
        "downloadInitialTrafficFromEndpoints": {
          "type": "boolean"
        },
        "failOnOfflineTrafficEndpoints": {
          "type": "boolean"
        },
        "fileSaveInfo": {
          "type": "object",
          "properties": {
            "clearFileOnBoot": {
              "type": "boolean"
            },
            "filename": {
              "type": "string"
            },
            "readFilter": {
              "type": "string"
            },
            "sourceFile": {
              "type": "string"
            },
            "writeToFile": {
              "type": "boolean"
            }
          }
        },
        "forwardToProxy": {
          "type": "object",
          "properties": {
            "hostname": {
              "type": "string"
            },
            "noProxyHosts": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "password": {
              "type": "string"
            },
            "port": {
              "type": "integer"
            },
            "type": {
              "type": "string",
              "enum": [
                "HTTP",
                "HTTPS"
              ]
            },
            "username": {
              "type": "string"
            }
          }
        },
        "isStandalone": {
          "type": "boolean"
        },
        "keyFolders": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "localResources": {
          "type": "boolean"
        },
        "maximumPartialMessageAgeInSeconds": {
          "type": "integer"
        },
        "maximumTrafficDownloadPageSize": {
          "type": "integer"
        },
        "modifications": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "condition": {
                "type": "string"
              },
              "deleteAfterNExecutions": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "regexFilter": {
                "type": "string"
              },
              "replaceWith": {
                "type": "string"
              },
              "targetElement": {
                "type": "string"
              }
            }
          }
        },
        "name": {
          "type": "string"
        },
        "notes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "jexlCriterion": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            }
          }
        },
        "parsingShouldBlockCommunication": {
          "type": "boolean"
        },
        "password": {
          "type": "string"
        },
        "perMessageBufferSizeInMb": {
          "type": "integer"
        },
        "proxiedServer": {
          "type": "string"
        },
        "proxiedServerProtocol": {
          "type": "string"
        },
        "proxyLogLevel": {
          "type": "string"
        },
        "proxyPort": {
          "type": "integer"
        },
        "proxyRoutes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "authentication": {
                "type": "object",
                "properties": {
                  "bearerToken": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "username": {
                    "type": "string"
                  }
                }
              },
              "criterions": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "disableRbelLogging": {
                "type": "boolean"
              },
              "from": {
                "type": "string"
              },
              "hosts": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "to": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "rbelBufferSizeInMb": {
          "type": "integer"
        },
        "rewriteHostHeader": {
          "type": "boolean"
        },
        "rewriteLocationHeader": {
          "type": "boolean"
        },
        "skipDisplayWhenMessageLargerThanKb": {
          "type": "integer"
        },
        "skipParsingWhenMessageLargerThanKb": {
          "type": "integer"
        },
        "skipTrafficEndpointsSubscription": {
          "type": "boolean"
        },
        "stompClientBufferSizeInMb": {
          "type": "integer"
        },
        "tls": {
          "type": "object",
          "properties": {
            "allowGenericFallbackIdentity": {
              "type": "boolean"
            },
            "alternativeNames": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "clientSslSuites": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "clientSupportedGroups": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "domainName": {
              "type": "string"
            },
            "forwardMutualTlsIdentity": {
              "$ref": "#/$defs/TigerConfigurationPkiIdentity"
            },
            "masterSecretsFile": {
              "type": "string"
            },
            "ocspSignerIdentity": {
              "$ref": "#/$defs/TigerConfigurationPkiIdentity"
            },
            "serverIdentities": {
              "type": "array",
              "items": {
                "$ref": "#/$defs/TigerConfigurationPkiIdentity"
              }
            },
            "serverIdentity": {
              "$ref": "#/$defs/TigerConfigurationPkiIdentity"
            },
            "serverRootCa": {
              "$ref": "#/$defs/TigerConfigurationPkiIdentity"
            },
            "serverSslSuites": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "serverTlsProtocols": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "trafficDownloadPageSize": {
          "type": "integer"
        },
        "trafficEndpointConfiguration": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "stompTopic": {
              "type": "string"
            },
            "wsEndpoint": {
              "type": "string"
            }
          }
        },
        "trafficEndpointFilterString": {
          "type": "string"
        },
        "trafficEndpoints": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "username": {
          "type": "string"
        }
      }
    }
  }
}
